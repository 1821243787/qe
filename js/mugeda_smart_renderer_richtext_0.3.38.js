(function(){"use strict";var o=MugineRequire("Utils/Module"),d=MugineRequire("Text/TextField"),v=MugineRequire("Utils/Plugin"),n=function(){n.__super__.constructor.apply(this,arguments);var e=this;e._value="",e._placeHolder="",e._placeHolderColor=null,e._inputType=null,e._textMode="richtext"};o.extend(n,d),d.prototype,n._createChildClass=function(e,t){var r=d._createChildClass(e,t);o.extend(r,n);var l=e.param;l.textContent,l.inputType;var a=function(){a.__super__.constructor.apply(this,arguments)};return o.extend(a,r),a},o.namespace("Text.RichText",n),v._registerDisplayObjectClass(2040,n);var h=MugineRequire("Utils/Module"),_=MugineRequire("Utils/Browser"),g=MugineRequire("Render/RenderObjectTextField"),x=MugineRequire("Render/StyleSheet"),f=MugineRequire("Utils/Plugin");MugineRequire("Display/LoaderInfo");var c=function(){c.__super__.constructor.apply(this,arguments);var e=this;e._needDrawSvg=!0};h.extend(c,g);var p=c.prototype;p._getHtmlAndCss=function(){var e=this,t=e._displayObject,r=t._defaultTextFormat,l="",a=r._font;t._fontData&&(a=t._fontData._getFontFamily(t));var i=t._transform._paramTransform,u="position: absolute; padding: 0; background: transparent; border-radius: 0; border: 0; outline: "+i._strokeWidth+"px solid "+i._strokeColor._getCssText()+";width: "+t._rawWidth+"px; height: "+t._rawHeight+"px;"+_.prefix.css+"transform-origin: left top;"+_.prefix.css+"appearance:none;"+_.prefix.css+"user-select: initial;"+l+"font-family: "+a+";text-align: "+r._align+";color: "+r._color._getCssText()+";font-size: "+i._fontSize+"px;line-height: "+(i._lineHeight/100||1)+";"+(r._bold?"font-weight: bold;":"")+(r._underline?"text-decoration: underline;":"")+(r._italic?"font-style: italic;":"")+(t._haveClickAction?"cursor: pointer;":""),s=t._textOverflow||"visible",m=s==="scroll"||s==="scrollNoBar"||s==="manualScroll"||s==="manualScrollNoBar";s!="visible"&&(u+="overflow: "+(m?"auto":s)+";");var y='<div ondragstart="return false;" data-type="richtext" data-mid="'+t._id+'"'+(t._guid?' data-guid="'+t._guid+'"':"")+' class="{{className}}" ><span class="mugeda_richText_content" style="position:absolute;left:0;top:0;right:0;bottom:0;padding:8px;">'+t._getText()+"</span></div>";return{html:y,css:u}},p._setDisplayInitState=function(){var e=this,t=e._displayObject,r=e._getHtmlAndCss();e._html=r.html;var l=r.css;e._initLoadFontData();var a=x.insertCss(l);e._classNameList.push(a),e._staticClassName=a;var i=t._textOverflow||"visible",u=i==="scroll",s=i==="scrollNoBar"||i==="manualScrollNoBar";i!="visible"&&(u&&(l+="-webkit-overflow-scrolling: touch;"),e._classNameList.push("mugeda_overflow"),s&&e._classNameList.push("nobar")),e._classNameList.push("mugeda_richtext")},f._registerRenderObjectClass(2040,c)})();
